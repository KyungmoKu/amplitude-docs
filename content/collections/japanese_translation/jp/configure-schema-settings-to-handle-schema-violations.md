---
id: 3c5057df-9431-4648-82fc-ed49e830bed0
blueprint: japanese_translation
title: スキーマの違反を処理するようにスキーマの設定を構成する
title_en: 'Configure schema settings to handle schema violations'
source: 'https://help.amplitude.com/hc/ja/articles/360055495852'
---
"時々、Amplitudeは、何をすべきかわからないというデータをアプリから受け取ることがあります。これは通常、**スキーマ違反**の結果であり、スキーマでAmplitudeが受け取ったデータが考慮されていないことを意味します。これは通常、スキーマを最初に設定したときに、その特定のデータタイプまたは値を計画しなかったためです。

スキーマ設定を構成することで、Amplitudeにこれらの状況を処理する方法を教えることができます。現在、3つの異なるタイプのスキーマ違反について構成することができます。スキーマ設定を検索するには、![data_management_icon.png](/docs/output/img/jp/data-management-icon-png.png)をクリックして、*[Govern]* > *[詳細]* > *[スキーマ設定]*に移動します。

**注意:** この機能は、**データ管理アドオン**(以前の名称はタクソノミー)を購入した法人のみが利用できます。

## 計画外のイベントタイプ

時々、Amplitudeは、スキーマの一部ではないイベントを受け取る場合や、以前に計画していなかったイベントを受け取ることがあります。これは**計画外のイベントタイプ**です。これらに対応するには、次のいずれかの方法でAmplitudeを構成することができます:

* **イベントとそのプロパティを受け入れ、スキーマを自動的に追加します**。警告や違反はトリガーされません。**すべてのイベント、プロパティ、および値は、この設定で収集されます。**
* **警告をトリガーし、イベントを非表示にします**。Amplitudeは、イベントのステータスを予想外として設定します。その後、イベントを承認し、スキーマに追加するか、または拒否し、将来的にAmplitudeが収集しないようにすることができます。
* **イベントを拒否し、警告をトリガーします**。Amplitudeはイベントを取り込みません。取り込まれていないイベントデータは、将来的には使用できません。

## 計画外のイベント/ユーザープロパティ

Amplitudeは、スキーマの一部ではないイベントやユーザープロパティに遭遇した場合、または以前に計画していなかったものに遭遇した場合は、プロパティを**計画外のイベント/ユーザープロパティ**とみなします。これらに対応するには、次のいずれかの方法でAmplitudeを構成することができます:

* **プロパティを受け入れ、スキーマを自動的に追加します**。警告や違反はトリガーされません。**すべてのイベント、プロパティ、および値は、この設定で収集されます。**
* **警告をトリガー**します。Amplitudeは、プロパティのステータスを予想外の状態に設定し、スキーマでフラグします。その後、承認し、スキーマに追加するか、拒否し、将来的にはAmplitudeが収集しないようにすることができます。
* **プロパティを拒否し、警告をトリガーします**。Amplitudeはイベントを取り込みますが、イベントプロパティは取り込みません。取り込まれていないイベントデータは、将来的には使用できません。

## 計画外のイベント/ユーザープロパティ値

Amplitudeは、スキーマの一部ではないイベントプロパティ値、または以前に計画していなかったイベントプロパティ値を受け取った場合、その値は計画**外のプロパティ値**とみなします。たとえば、イベントプロパティ値は文字列として送信されますが、スキーマは数値を見込んでいた場合などです。Amplitudeは、次のいずれかの方法で計画外のプロパティ値に対応するように構成することができます。

* **プロパティを受け入れます**。トリガーされる警告や違反はありません。
* **警告をトリガーします**。Amplitudeには、予想外のイベントプロパティ値が収集されたという警告が表示されます。
* **プロパティを拒否し、警告をトリガーします**。Amplitudeはイベントを取り込みますが、イベントプロパティは取り込みません。取り込まれていないイベントデータは、将来的には使用できません。

Amplitudeがイベントデータを拒否し、その収集を開始する場合は、[新規イベントを計画するか、新しいプロパティ](https://help.amplitude.com/knowledge/articles/360047579471/)を計画することで、イベントまたはプロパティをスキーマに追加してください。

## 違反エラーを表示する

スキーマを初期化し、予想されるイベントとイベントプロパティを定義したら、スキーマを使用して、Amplitudeに来るライブデータを検証することができます。スキーマが予想外のイベントまたはプロパティに対する警告をトリガーするように構成されている場合、Amplitudeは検証エラーパネルにエラーをログします。

*![data_management_icon.png](/docs/output/img/jp/data-management-icon-png.png)をクリック*して、*[Govern]* > [詳細] > *[検証エラー]*に移動し、検証エラーを表示します。過去24時間にトリガーされたエラーは、イベントまたはプロパティが承認または拒否されているかに関係なく、このページに表示されます。検証ページにエラーが表示されない場合、過去24時間に違反はありません。これは、違反が修正されたことを意味するものではありません。過去24時間にエラーがなかったというだけです。

検証エラーに対する電子メールアラート*を*設定するには、*サブスクライブ*をクリックします。

"