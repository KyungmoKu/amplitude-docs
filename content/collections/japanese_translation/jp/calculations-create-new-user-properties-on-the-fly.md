---
id: 20c362d4-0313-408f-a96c-90e90953e9d1
blueprint: japanese_translation
title: 計算：即時に新しいユーザープロパティを作成する
title_en: 'Calculations: Create new user properties on the fly'
source: 'https://help.amplitude.com/hc/ja/articles/360060044791'
---
|  |
| --- |
| **この記事のテーマ：*** セグメンテーションプロセスの簡素化
* 計算とコホートの違いを理解する
* 既存のイベントまたはイベントプロパティから計算プロパティを作成する
* 計算プロパティを外部デスティネーションにデプロイする
* Amplitude Analyticsのチャートに計算プロパティを含める
 |

コホートと同様、計算はセグメンテーションツールです。しかし、コホートがユーザーのリストを作成する場合、イベントは計算により、ユーザーをセグメントにするために使用できる新しいユーザープロパティに変換されます。

計算は、イベントまたはイベントプロパティを、計算ユーザープロパティに変換することによって動作します。計算プロパティは、Amplitudeチャートで構成可能なフィルターとして、または外部デスティネーションに同期することで、パーソナライゼーションツールとして使用することができます。

以下に例を挙げます。ユーザーが行った購入数でセグメントを設定する場合、コホートを使用することができますが、各購入数に対応する異なるコホートを作成しなければなりません。これは面倒で時間のかかるアプローチです。

代替として、計算プロパティ（注文の数など）を作成することもできます。これにより、関連する数を個々のユーザーに添付された単一の整数として保存することができます。そして、コホートまたは計算のいずれかがジョブを実行しますが、このユースケースでは、計算プロパティはよりエレガントで柔軟な選択になります。

計算プロパティは、パーソナライゼーションキャンペーンに理想的なツールです。3種類の計算プロパティがあります。

* **イベントカウント**：このプロパティタイプは、定義された期間にわたってユーザーがイベントを発行した回数をカウントします。
* **集計**：このプロパティタイプは、定義された期間にわたってイベントプロパティの値の合計、最小、最大、または平均を集計します。
* **最初/最後の値**：このプロパティタイプは、チャートで選択されたプロパティの最初または最後の値のみを含みます。

**注：**計算は、標準的なイベントプロパティでのみ利用できます。 マージ、派生、または変換されたプロパティでは利用できません。

## 計算プロパティを作成する

新しい計算プロパティを作成するには、次のステップに従ってください。

1. [計算] > [計算を作成]*に移動します*。
2. *[計算タイプ]*で、作成する計算プロパティのタイプを選択し、*[次へ]*をクリックします。
3. *[イベントを選択]*で、計算プロパティを構築したいイベントを選択します。

* * * * **イベントカウント**計算プロパティの場合、*+ where*節を使用してイベントをフィルターし、含める必要がある条件を追加することができます。
				* **集計**の計算プロパティの場合、集計するイベントと関連するイベントプロパティを選択します。平均、最小、最大、または合計値を計算するかどうかを指定します。
				* **最初/最後の値**計算プロパティでは、集計タイプ（*[最初の値]*または*[最後の値]*）を選択します。適切なイベントとプロパティを指定し、計算する時間範囲を選択します。

**注意：**イベントプロパティ値は、集計の整数として表現する必要があります。

4. 計算プロパティの日付範囲を設定します。最大は365日です。完了したら、*[次へ]*をクリックします。
5. 計算に名前を付けます。この名前は、すべてのユーザーのユーザープロパティとして表示されます。次に、[次へ]をクリックします。
6. 最後に、時間を取って結果を確認してください。計算は、生成するのに数秒かかります。Amplitude Audiencesは、それを指定された日付範囲の間にアクティブだったすべてのユーザーに適用します。詳細ビューでは、計算の構成の詳細、すべてのユーザーの配布、異なるカウントでイベントを発行したユーザーの数（イベントカウントのみ）、および区別されたビン集計値によるすべてのユーザーの分配（イベントカウントのみ）が閲覧できます。

## 計算を削除する

作成後は、いつでも計算を削除することができます。削除するには、次のステップに従ってください。

1. 左側レールで*計算*をクリックします。
2. 削除する計算の名前をクリックします。
3. *詳細*ドロップダウンメニューから、*[削除]*をクリックします。
4. その計算を削除するかどうかを確認します。

計算を削除した場合、それは今後、コホートで使用可能なユーザープロパティとして表示されなくなります。コホート内で同期またはフィルターはできません。同時に、不要な計算を削除すると、容量が解放され、新しい、より便利なものを作成できます。

## キャンペーンと分析で計算プロパティを使用する

計算プロパティは、パーソナライゼーションキャンペーンで最も頻繁に使用されます。データベースやサードパーティマーケティングプラットフォームなどの、外部デスティネーションへのユーザープロパティとして、計算プロパティを同期できます。

たとえば、計算プロパティを使用して、ユーザーが発注した注文の合計数を計算し、その数が特定額に達した場合、その情報を使用して、Brazeで別のキャンバスをトリガーすることができます。計算プロパティを使用して、ユーザーの平均注文値を計算し、プロファイルAPIに同期して、平均注文値に基づいてユーザーの異なるインタースティシャルをアプリで表示することもできます。

Amplitude Audiencesは、計算されたプロパティ同期の宛先として、Braze、S3、Profile APIをサポートしています。 注意：Brazeとの同期プロセスでは、Brazeプランのデータポイントが増加します。これは、Brazeから追加料金が発生する場合がるためです。

計算プロパティをパーソナライゼーションツールと同期させるには、[プロパティ、推奨、およびサードパーティデスティネーションへのコホートの同期](https://help.amplitude.com/hc/en-us/articles/360060055531)に関する記事に従ってください。

計算プロパティは、AmplitudeのAnalytics製品のフィルターとして、コホートとチャートの両方で使用することができます。コホートでフィルターパラメーターとして計算プロパティを選択し、そのコホートを保存するだけです。そこから、Amplitudeチャートでそのコホートをセグメンテーションパラメーターとして選択することができます。それを使用して、異なるコホート間の[ファネルコンバージョン率](https://help.amplitude.com/hc/en-us/articles/360039976531)または[リテンション率](https://help.amplitude.com/hc/en-us/articles/230543327)を比較できます：たとえば、ユーザーと異なる平均注文値、最小購入価格などを比較できます。

プロパティフィルターまたはグループ化（group-by）オプションとして、チャートで計算プロパティで直接クエリすることもできます。
