---
id: 1da4438e-996f-488b-87cd-96b32986ca59
blueprint: japanese_translation
title: ユーザーコンポジションチャート：共通するプロパティでユーザーを閲覧
title_en: 'User Composition Chart: Browse users by common properties'
source: 'https://help.amplitude.com/hc/ja/articles/231258248'
---
#### この記事のテーマ：

* ユーザーコンポジションチャートと他のAmplitudeチャートの違いを理解する
* ユーザーコンポジション分析を構築する
* 分析結果を解釈する

ユーザーコンポジションチャートは1つのユーザープロパティに基づくアクティブユーザーの内訳を表示します。グループ化された表示で、あなたのユーザーがどんな人で、どのプロパティが共通しているのかについてのインサイトが得られます。

## 開始する前に

まず最初に、実装が完了するまでイベントはAmplitudeチャートに表示されないため、予め実装を完了してください。Amplitudeのユーザーインターフェースの基本について解説した[Amplitudeでのチャートの作成](/docs/get-started/helpful-definitions)も読んでおきましょう。[ユーザープロパティとイベントプロパティの違いについて](/docs/data/user-properties-and-events)の理解も必要です。

## ユーザーコンポジション分析の設定

多くのAmplitudeチャートでは、イベントモジュールを使って分析を構築します。ユーザーコンポジションチャートはイベントを主体とした分析ではないため、イベントモジュールが用意されておらず、仕様が少し異なります。

![UC_1.png](/docs/output/img/jp/uc-1-png.png)

ユーザーコンポジション分析は、イベントの代わりにユーザー**プロパティ**を使って行います。対象とするユーザープロパティを選択し、ユーザーセグメントを定義すると、指定したユーザーセグメント全体について、そのプロパティの値の内訳がユーザーコンポジションチャートに表示されます。

上記の例では、プロダクトについて米国のユーザーとドイツのユーザーを比較し、参加したコミュニティ数の直近の値の内訳を見ています。

ユーザーコンポジション分析を構築するには、以下のステップに従ってください。

1. コンポジションモジュール（通常はイベントモジュールがある部分）で、対象とするユーザープロパティを選択します。
2. Segment Byモジュールにおいて、分析に含めるユーザーセグメントを指定します。 保存済みをクリックして、リストから必要なセグメントを選択することで、保存済みのセグメントをインポートできます。 セグメントを選択しなければ、Amplitudeはすべてのユーザーを分析対象とする前提からスタートします。
3. 保存済みのユーザーセグメントをインポートしない場合は、プロパティを追加して新しいユーザーセグメントを作成できます。これをするには、*+ Filter by*をクリックして、含めたいプロパティを選択し、関心のあるプロパティ値を指定します。
4. 既に何らかのアクションを実行したユーザーのみを含めるようにAmplitudeに指示することで、さらに属性を絞り込むこともできます。これを行うには、*+ Performed*をクリックし、関心のあるイベントを選択します。
5. 希望に応じて、*+ Add Segment*をクリックし、ステップ3と4を繰り返してユーザーセグメントをさらに追加します。
6. 日付ピッカーを使用して、タイムゾーンを指定し、分析の時間枠を設定します。
7. 測定モジュールで、最も関心のあるユーザープロパティ**値**を指定します。

* * ***直近の値***は、各ユーザーについて、**そのプロパティの直近の値のみを考慮します。**この値は、ユーザーの直近の*アクティブ*イベントから求められます。例えば、下図で*San Francisco*のバケットに含まれるユーザーは、最後にアクティブイベントを実行した際に、直近で「[Amplitude] City」のユーザープロパティがSan Franciscoだったユーザーです。  
		![UC_2.png](/docs/output/img/jp/uc-2-png.png)  
		ユーザーは、直近の値が選択される時に**1つ**のバケットにしか現われない可能性があります。
		* ***すべての値***では、対象とするプロパティについて、分析対象期間内に**アクティブユーザーが有していたことのあるすべての値**が含まれます。ユーザーコンポジションチャートには*アクティブ*ユーザーのみが含まれるため、アクティブでないイベントに紐づけられたユーザープロパティの値は返されないことにご注意ください。例えば、上図のチャートでは、過去30日間にサンフランシスコとニューヨークからAmplitudeで計装されたイベントを実行した全ユーザーが、**両方のバケット**に含まれます。
		* ***クロスプロパティ値***は、選択した期間内にアクティブユーザーが有していたプロパティの組み合わせを表示します。これらの**バケットは相互排他的**で、各ユーザーはどれか1つのバケットに振り分けられます。下のチャートは、ほとんどのユーザーが単一のプラットフォームでこのプロダクトを使用していることを示しています。  
		  
		![UC_3.png](/docs/output/img/jp/uc-3-png.png)

どの場合でも、Amplitudeはユーザープロパティの上位13項目の内訳を表示します。他の値はすべて、*その他の*バケットにグループ化されます。[チャート中央に表示される値は、内訳データテーブルの列合計です。ユーザー数でカウントしたユーザープロパティの上位100項目に含まれるユーザーのみが含まれます。](/docs/analytics/charts/other-charts/other-charts-user-composition)

結果は棒グラフで表示することもできます。

![UC_4.png](/docs/output/img/jp/uc-4-png.png)

そしてもちろん、[マイクロスコープ](/docs/analytics/microscope)を使うとユーザーグループの構成をいつでも確認できます。

## 内訳データテーブル

チャートの下には構成データの表が表示されます。ユーザー数の多い順に100位までのプロパティの値が表に含まれます。表の一番下にある*列合計*のフィールドは、チャート中央の合計と同じです。

![UC_5.png](/docs/output/img/jp/uc-5-png.png)

テーブルをエクスポートすることもできます。*CSVにエクスポート*をクリックしてCSVファイルとしてエクスポートできます。CCSVファイルには、10,000行の上限があります。すなわち、CSVではユーザー数の多い順に10,000位までのユーザープロパティの値が含まれることを意味します。
