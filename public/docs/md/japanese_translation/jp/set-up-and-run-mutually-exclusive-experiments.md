---
id: 885564fc-0a73-4687-a2d7-a60f77f29a84
blueprint: japanese_translation
title: 相互排除的な実験を設定して実行する
title_en: 'Set up and run mutually exclusive experiments'
source: 'https://help.amplitude.com/hc/ja/articles/360061270712'
---
|  |
| --- |
| この記事のテーマ：* Amplitude Experimentで相互排除がどのように機能するかを理解する
* 2つ以上の実験を互いに排除する
 |

複数の実験を一度に実行する場合、1つの実験に含まれるユーザーが、2番目の関連する実験に同時に露出しないようにしたい場合があります。おそらく、これらの実験は同じ問題を異なる方法で解決するのに役立ちます。また、ユーザーが両方の実験にされされている場合、混乱することがあり、それが不安になるかもしれません。または、実験が**相互効果**によって、欠陥のある結果になることがあります。

Amplitude Experimentでは、2つ以上の実験を簡単に**相互排除**することができます。実験を相互排除として設定した場合、これはユーザーを共有できないことを意味します：実験Aが表示されるユーザーは実験Bが表示されません。逆もしかりです。両方の実験を同じ**相互****排除グループ**に追加するだけで、Amplitude Experimentが残りの部分を処理します。

基礎となる実装の詳細については、[Amplitudeの開発者向けドキュメント](https://www.docs.developers.amplitude.com/experiment/general/flag-dependencies)を参照してください。

## どんなときに実験を相互排除する必要がありますか？

一般的に、次の状況で相互排除の実験が推奨されます。

* プロダクトの**同じ領域**で発生する同時実験で**同じ目標**がある場合。
* **同じファネル**で発生する同時実験で**同じ目標**がある場合。

これらの実験は、同時に実行するのではなく、交互に実行することもできます。

## 開始する前に

相互排除グループを使用するときに留意すべき点がいくつかあります。

* スロット間でトラフィックを均等に配分します。
* **相互排除グループに、実行中の実験を追加****しないでください**。有効な実験でユーザーの割り当てを解除することにより、データの整合性を著しく損なう可能性があります。代わりに、実行開始**前に**相互排除グループに実験を追加してください。
* 相互排除グループから、実行中の実験を**削除****しないでください**。グループ内のもう一方の実験にユーザーを露出することになり、データの整合性を損なう恐れがあります。
* 同じ理由で、実行中の実験がある相互排除グループを**削除しないでください**。代わりに、グループ内のすべての実験が終了した後に相互排除グループを削除してください。

## 相互排除グループを作成する

相互排除グループを作成して実験を追加するには、次のステップに従ってください。

1. Experimentsページに移動し、*[Experiment Groups]*（実験グループ）タブをクリックします。（実験内で行う場合は、*[Configure]*（設定）タブに移動し、*[See Mutual Exclusion Groups]*（相互排除グループを表示）をクリックします。）既存の相互排除グループがすべて表示され、新しいグループを作成できます。
2. プロジェクトにグループがない場合は、*[Add a new mutual exclusion group]*（新しい相互排除グループを追加）をクリックして、新しいグループを作成します。既存のグループがある場合は、*[Create A New Group]*（新規グループを作成）をクリックして、ドロワーで*[Mutual Exclusion Group]*（相互排除グループ）を選択します。  
  
![スクリーンショット](/docs/output/img/jp/sukurinsiyotuto.png)
3. *[Mutual exclusion group settings]*（相互排除グループの設定）モーダルで、グループの名前と説明を入力します。ここで、評価モードやバケットキーなどのグループの詳細設定を表示して変更することもできます。
4. 次に、**スロット**を追加し、各スロットに実験を割り当てます。これらの実験はすべて相互排除になります。相互排除グループに最大20スロットを追加できます。  
  
**注：**グループを作成すると、含まれるスロット数、またはトラフィック割り当ての割合を変更することはできません（次のステップを参照してください）。これにより、一貫したバケッティングとユーザーエクスペリエンスが保証されます。
5. 次に、各実験のトラフィック率を設定します。デフォルトでは、トラフィックが均等に配分されますが、割合を手動で編集できます。これにより、総トラフィックのうちグループ内の各実験に割り当てられる割合が決まります。  
  
![スクリーンショット](/docs/output/img/jp/sukurinsiyotuto.png)
6. *[Add Group]*（グループを追加）をクリックして、プロセスを完了します。

## 高度なユースケース

* 実験へのトラフィック割り当てを増やすには、最初にグループを作成するときにスロットの割合を直接変更するか、あるいは同じグループ内の複数のスロットに1つの実験を割り当てて、グループ作成段階の後でトラフィック割り当てを変更できるようにします。
* 複数の相互排除グループに実験を追加すると、実験のトラフィックがさらに制限されます。これは、所属する相互排除グループごとに各ユーザーを評価する必要があるためです。  
  
例えば、次の2つの相互排除グループを考えてみましょう。

* * * * * 相互排除グループ1は、スロット1に実験A、スロット2に実験Bが割り当てられており、各実験はトラフィックの50％を受け取ります
				* 相互排除グループ2は、スロット1に実験A、スロット2に実験Cが割り当てられており、各実験はトラフィックの50％を受け取ります

この場合、実験Aは総トラフィック全体の0.5 \* 0.5 = 0.25、または25％を受け取ります。

複数の相互排除グループに実験を追加する代わりに、関連するすべての実験を含むグループを作成します。この例では、そのグループに実験A、B、Cを含めます。

* ホールドアウトグループ**と**相互排除グループに実験を追加すると、両方のグループで各ユーザーが評価されるため、実験のトラフィック量がさらに制限されます。

例えば、次のホールドアウトグループと相互排除グループを考えてみましょう。

* * * * * ホールドアウトグループには実験Aが含まれ、ホールドアウトの割合は5％です
				* 相互排除グループには、スロット1に実験A、スロット2に実験Cが含まれ、各実験がトラフィックの50％を受け取ります

この場合、実験Aはトラフィック全体の0.95 \* 0.5 = 0.475、または47.5%を受け取ります。

詳しくは、こちらの[Amplitude Experimentでのホールドアウトグループの使い方](https://help.amplitude.com/hc/en-us/articles/13508918823835)についてのヘルプセンターの記事をご覧ください。
