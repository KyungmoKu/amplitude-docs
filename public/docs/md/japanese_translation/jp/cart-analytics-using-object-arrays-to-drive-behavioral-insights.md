---
id: edbc937e-8b36-4198-b1b4-ca9b8dba85eb
blueprint: japanese_translation
title: カート分析：オブジェクト配列を使用して、行動インサイトを促す
title_en: 'Cart Analytics: Using Object Arrays to Drive Behavioral Insights'
source: 'https://help.amplitude.com/hc/ja/articles/9623000954907'
---
Amplitudeの**カート分析**機能では、オブジェクト配列として送信されたデータを分析できます。これは、eコマース取引とショッピングカートフローに対する行動インサイトに特に有用です。集計で検索結果またはカートイベント（例、注文総量または同時発生）を分析したり、あるいはブランド、カテゴリー、価格、SKU、その他のサイズで分析をセグメント化できます。

すべてを設定すると、チャートからこれらのオブジェクト配列にアクセスし、分析できます。 

**注：**カート分析は、現在、オープンベータになっています。 参加して、グロースまたはエンタープライズプランに参加する場合は、「[プロパティ分割を設定](#h_01GGX3KMYSJX6EBW6WHRC7PEMH)して開始する」を参照してください。 

考えられるユースケースは次のとおりです：

* 属性（SKU、カテゴリー、ブランド）ごとのプロダクトパフォーマンス（ボリューム）
* プロダクトタイプ（または他の属性）ごとのコンバージョン率
* クロスセリングの機会を明らかにするトップパフォーマンスのプロダクト組み合わせ
* アイテム/プロダクトごとの収益/ビジネス成果パフォーマンス
* 平均バスケットサイズまたはアイテム数

カート分析は、Amplitudeのイベントセグメンテーションとファネル分析チャートで利用できます。

## 用語と概念

ここでは、カート分析を機能させるより重要なアイデアの簡単な概要を示します：

* **オブジェクト配列**：これは、単一の名前で異なるオブジェクトのコレクションを保存できるデータ形式です。 Amplitudeコンテキストでは、配列自体はイベントまたはユーザープロパティとして作用し、含まれるオブジェクトはアイテム固有の属性またはプロパティです。 下記の例では、`プロダクト`とは、2つの異なるオブジェクトを保持するオブジェクト配列です。

```
products: [  
 {  
 product\_id: 1,  
 sku: '45360-32',  
 name: 'Special Facial Soap',  
 category: 'Beauty',  
 price: 12.60,  
 },  
 {  
 product\_id: 5,  
 sku: '47738-11',  
 name: 'Fancy Hairbrush',  
 category: 'Beauty',  
 price: 18.90,  
 }  
]
```

* **親プロパティ**：これは、オブジェクトの配列を含むトップレベルイベントまたはユーザープロパティです。上記の例では、これは`プロダクト`です。
* **子プロパティ**（または**アイテムプロパティ**）：これらは、オブジェクトの配列内の入れ子になった属性です。これらは、Amplitudesが分析で分割するものです。 上記の例では、`sku`と`価格`は、子プロパティの2つの例を示しています。 これらは、**1**つのレベルのネスティングに制限されます。
* **兄弟プロパティ**：これらは、同じ親イベントまたはユーザープロパティに紐付けられた2つ以上の子プロパティです。 上記の例では、`sku`と`価格`は兄弟プロパティを示します。
* **プロパティ分割**：これは、インジェストが発生した後、Amplitudeがデータの親プロパティからネストされた子プロパティを分割するために使用する処理方法です。プロパティ分割プロセスは、親プロパティを保持します。  
  
**注：**子プロパティは、プロパティボリュームカウントにカウントされます。

## プロパティ分割を設定する

カート分析にオブジェクト配列を使用する前に、プロパティ分割を有効にする必要があります。 Amplitude Dataでプロセスを完了できます。

**注：**管理者のみが分割を有効にできます。

プロパティ分割を有効にするには、次のステップに従ってください：

1. Amplitude Dataを開きます。
2. 親プロパティとして使用するイベントまたはユーザープロパティを見つけて選択します。（上記の例では、これは`プロダクト`です。）  
  
**注：**Amplitude Dataを使用している場合は、トラッキングプランに関心のあるイベントを追加する必要がある場合があります。
3. プロパティドロワーで、*分割*タブを開きます。
4. 分割プロセスがもたらす内容のプレビューが表示されます。許容できる場合は、*分割を開始*をクリックします。  
  
![Cart_Analysis_2.png](/docs/output/img/jp/cart-analysis-2-png.png)

分割を停止するには、ステップ1〜3を再トレースし、*分割を停止*をクリックします。

この変更は、新しいデータ摂取に有効になります。 ただし、データは以前に分割されたイベントに保持されます。 分割プロパティの非表示または削除の詳細については、[Amplitudeのイベント管理](https://help.amplitude.com/hc/en-us/articles/360047138392-Manage-events-and-properties#change-visibility-status-for-an-event-or-property)に関する記事を参照してください。

## イベントセグメンテーションとファネル分析チャートでオブジェクト配列を使用する

前述のように、他のイベントまたはユーザープロパティと同様に、プロパティ分割プロセスによって生成されたオブジェクト配列にチャートイベントからアクセスできます。

これらの配列は、イベント/ユーザープロパティドロップダウンに表示されます。{:} ：

![cart_analysis_1.png](/docs/output/img/jp/cart-analysis-1-png.png)

### フィルタ

標準イベントとユーザープロパティと同様に、条件を適用して結果をフィルタリングできます。 ただし、これらのフィルタは、オブジェクト配列で少し異なります。 

* **クロスプロパティフィルタ**（デフォルト）：これらのフィルタは、配列内の**すべての**アイテムまたはオブジェクトを指し示すか、参照します。 これは、「ミックスとマッチ」セマンティクスとも呼ばれます。 クロスプロパティフィルタを適用するには、同じイベントに*+ Filter by*を介して2つの別々のクローズ（句）を適用します。 ![Screen_Shot_2023-04-05_at_6.56.30_PM.png](/docs/output/img/jp/screen-shot-2023-04-05-at-6-56-30-pm-png.png)
* **パラレルフィルタ**：これらのフィルタは、配列内の同じアイテムまたはオブジェクトを指し示すか、参照します。パラレルフィルタを適用するには、同じアイテムまたはオブジェクトに2つ以上の`含まれる`句を追加します。![Screen_Shot_2023-04-05_at_6.59.21_PM.png](/docs/output/img/jp/screen-shot-2023-04-05-at-6-59-21-pm-png.png)  
  
**注：**兄弟プロパティに並列セマンティクスのみを適用できます。
* **アイテムマッチ**：このオプションを選択すると、Amplitude Analyticsに、分類値（例えば、電子機器アイテム**のみ**）を表示するときにフィルタ条件を尊重するよう伝えます。  
![Screen_Shot_2023-04-05_at_3.46.23_PM.png](/docs/output/img/jp/screen-shot-2023-04-05-at-3-46-23-pm-png.png)
* **コレクションマッチ**：このオプションを選択すると、Amplitude Analyticsに、グループ化値（例えば、電子機器を含む購入の**すべてのアイテム**）を表示するときにイベントのすべてのオブジェクトを参照するよう伝えます。  
![Screen_Shot_2023-04-05_at_3.46.52_PM.png](/docs/output/img/jp/screen-shot-2023-04-05-at-3-46-52-pm-png.png)

## カート分析のオブジェクト配列を使用するクエリの例

オブジェクト配列は、非常に柔軟性の高いツールであり、複雑なクエリが可能です。 ここでは、独自のクエリを開発するのに役立つオブジェクト配列の期待されるユースケースの例をいくつか示します。

* エレクトロニクスプロダクトを含む購入：

![Screen_Shot_2023-04-05_at_3.42.47_PM.png](/docs/output/img/jp/screen-shot-2023-04-05-at-3-42-47-pm-png.png)

* 価格が24.99ドル以上であったエレクトロニクスプロダクトを含む購入：

![Screen_Shot_2023-04-05_at_7.01.47_PM.png](/docs/output/img/jp/screen-shot-2023-04-05-at-7-01-47-pm-png.png)

* 季節性プロダクトを含む購入と美容プロダクトを含む購入を比較する：

![Screen_Shot_2023-04-05_at_3.43.50_PM.png](/docs/output/img/jp/screen-shot-2023-04-05-at-3-43-50-pm-png.png)

* 少なくとも1つのエレクトロニクスプロダクトを含む購入のエレクトロニクスプロダクトの価格を合計します：

![Screen_Shot_2023-04-05_at_3.44.39_PM.png](/docs/output/img/jp/screen-shot-2023-04-05-at-3-44-39-pm-png.png)
