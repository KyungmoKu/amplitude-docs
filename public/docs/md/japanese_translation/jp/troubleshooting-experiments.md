---
id: 3f4916a8-857f-4b95-bcb9-5653ad32f367
blueprint: japanese_translation
title: 実験のトラブルシューティング
title_en: 'Troubleshooting Experiments'
source: 'https://help.amplitude.com/hc/ja/articles/360061270832'
---
|  |
| --- |
| この記事のテーマ：* Amplitude Experimentで予期しない行動の原因を特定する
* Amplitudeのサポートに連絡することなく、問題を自分で修正する
 |

実験またはフラグの作成および展開で、予期しない問題が発生する場合は、可能なソリューションを必ずご確認ください。

* 実験とフラグに使用するデバイスIDとユーザーIDは、Amplitude Analyticsで使用するデバイスIDとユーザーIDと**同じでなければなりません**。
* フラグがデプロイメントで表示される場合は、そのデプロイメントで**有効にする必要があります**。
* バリアントに「off」の名前値を**割り当てないでください**。この値では、「OFF/FALLBACK」バケットのユーザーが明示的に留保されています。
* 割り当てイベントとエクスポージャーイベントは同じイベントにすることもできますが、**コンセプトが異なります**。また、実験では、それぞれが異なる役割を果たします：割り当てイベントは、ユーザーがバリアントに割り当てる直前に行われるイベントですが、エクスポージャーイベントはユーザーが実際にバリアントにエクスポーションするイベントです。ユーザーはセッションの開始時に割り当てることができますが、フローで後でイベントを発行しないでください。  
正しいイベントが各々に割り当てられていることを確認してください。
* IPジオグラフィック・レゾリューションは、現時点（2021年6月）で**ターゲティングの対象場所**では有効になっていません。
* Amplitude Experimentは、コホートのターゲティングを1時間ごとに更新します。明示的にExperimentに送信されたプロパティのターゲティングは、即時かつリアルタイムなものです。Amplitudeで保存されるユーザープロパティのターゲティングは、CDNのために、最大1時間**遅れる可能性があります**。
* Amplitude Experimentは、サーバー側でデータを生成し、割り当てをユーザープロパティとして保存します。この理由により、ユーザーは割り当てられたバリアントが**表示されない場合があります**。原因は通常、タイムアウト、ネットワークエラー、または広告ブロッカーです。
* 単一のプラットフォームで実験を行う場合（iOSなど）、ユーザーが**異なるプラットフォーム値**（Android）で表示される可能性があります。これは、ユーザーが複数のプラットフォームでプロダクトを使用している場合に発生します。また、実験で指定したプラットフォーム以外の最新イベントが送信された場合にも発生します。割り当てイベントが自動的に送信される場合、非実験プロパティ（`プラットフォーム`など）は含まれません。  
古いプロパティの同期の問題を解決するには、[Experiment SDKとAmplitude Analytics SDKを接続](https://amplitude-lab.readme.io/docs/ios-sdk#connecting-to-the-amplitude-analytics-sdk)して、ユーザーコンテキストが使用できるようにします。
* ユーザーは1日に1つの実験のバリアントを表示することができますが、2つ目は次の日にならないと表示できません。これは、[Amplitude ExperimentのバケッティングがユーザーIDとデバイスIDに依存しているためで](https://www.docs.developers.amplitude.com/experiment/guides/troubleshooting/variant-jumping/)、デバイスIDのみに依存している場合、および**ユーザーのデバイスIDが変更された場合**に発生する可能性があります。これは、ユーザーが匿名モードを使用している場合、または前回訪問からキャッシュとクッキーをクリアした場合に発生します。
* 場合によっては、他のアクティブなイベントを**ログせずに、割り当てイベントをトリガーする**ことができます。
	
		* ユーザーの**広告ブロッカーまたは分析ブロッカー**は、分析アプリケーションイベントに干渉しています。しかし、実験リクエストはバックエンドサーバーから作成されるため、一般的にはそれらは妨げられません。これは主にWebユーザーに影響を与えます。
		* ユーザーがアプリを開くと、リクエストがAmplitudeのバックエンドへ実行され(次に割り当てイベントがトリガーされる)、分析イベントをトリガーする他のアクションを発動する前に、**ユーザーはアプリを離れています。**
		* Amplitudeのサーバーは、**エンドユーザーからではなく、バックエンドから**直接割り当てリクエストを受けています。オフラインキャンペーンで実験を実装しているかどうかを確認してください。グループプッシュ通知、マーケティングメールなどが送信されているかどうかなどです。