<!-- markdown-link-check-disable -->
{{# Need to fix sizing of this grid. Made it fixed with so it would stop shrinking based on content of curl call. #}}


<pre class="min-w-[712px]"><code data-theme="dracula" data-lang="curl" class="torchlight" style="background-color: #fafafa; --theme-selection-background: #d1e4f4fd;"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#8a919966; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">1</span><span style="color: #399EE6;">curl</span><span style="color: #575F66;"> </span><span style="color: #4CBF99;">--request</span><span style="color: #575F66;"> </span><span style="color: #8BE9FD;">GET</span><span style="color: #575F66;"> </span><span style="color: #4CBF99;">\</span></div><div class="line"><span style="color:#8a919966; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">2</span><span style="color: #575F66;"> </span><span style="color: #399EE6;">--url</span><span style="color: #575F66;"> </span><span style="color: #8BE9FD;">'<span style="color:#4CBF99" id='curl_url'></span><span style="color:#AFAFDC" id='curl_user_id'></span><span style="color: #8A84E2" id='curl_device_id'></span><span id='curl_flag_key'></span><span style="color:#E4CC37" id='curl_context'></span>'</span><span style="color: #575F66;"> </span><span style="color: #4CBF99;">\</span></div><div class="line"><span style="color:#8a919966; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">3</span><span style="color: #575F66;"> </span><span style="color: #399EE6;">--header</span><span style="color: #575F66;"> </span><span style="color: #8BE9FD;">'Authorization: Api-Key <span style="color:#E18335" id='curl_deployment_key'></span>'</span></div></code></pre>



<div class="mt-8 grid grid-cols-2 gap-4 max-w">
    <div class="grid grid-cols-1 gap-6 w-80">
        <label for="" class="block">
            <span class="text-xs text-mountain-mist-300">Deployment key (required)</span>
            <input class="mt-1 block w-full" type="text" name="" id="deployment_key" placeholder="deployment_key">
        </label>
        <label for="" class="block">
            <span class="text-xs text-mountain-mist-300">User ID</span>
            <input class="mt-1 block w-full" type="text" name="" id="user_id" placeholder="user_id">
        </label>
        <label for="" class="block">
            <span class="text-xs text-mountain-mist-300">Device ID</span>
            <input class="mt-1 block w-full" type="text" name="" id="device_id" placeholder="device_id">
        </label>
        <label for="" class="block">
            <span class="text-xs text-mountain-mist-300">Flag key</span>
            <input class="mt-1 block w-full" type="text" name="" id="flag_key" placeholder="flag_key">
        </label>
        <label for="" class="block">
            <span class="text-xs text-mountain-mist-300">Context</span>
            <input class="mt-1 block w-full" type="text" name="" id="context" placeholder="context">
        </label>
        <label for="" class="block">
            <span class="text-xs text-mountain-mist-300">Server zone</span>
            <select class="mt-1 block w-full" type="text" name="" id="server-zone" onchange="updateUrl()">
                <option value="US">US</option>
                <option value="EU">EU</option>
            </select>
        </label>
        <button class="md-button w-1/2 border rounded py-1 hover:bg-amp-blue-900 transition-colors" id="at-action-button">Send</button>
    </div>
<div class="">
<span id="failure_tip"></span>
<pre class="overflow-scroll max-h-[575px] bg-amp-gray-900 w-full">
<code id="result" class="text-gray-100">
</code>
</pre>
</div>
</div>
<script src="/js/api-table.js"></script>
<script>
document.getElementById('deployment_key').value =
localStorage.getItem('deployment_key') || '';
function updateUrl() {
const serverZone = document.getElementById('server-zone').value;
const url = serverZone === 'US' ? 'https://api.lab.amplitude.com/v1/vardata?' :
'https://api.lab.eu.amplitude.com/v1/vardata?';
document.getElementById('curl_url').textContent = url;}
document.getElementById('curl_url').textContent = 'https://api.lab.amplitude.com/v1/vardata?';
setupApiTable({
'deployment_key': false,
'user_id': true,
'device_id': true,
'flag_key': true,
'context': true,
}, async function(fields) {
const deploymentKey = fields['deployment_key'];
const userId = fields['user_id'];
const deviceId = fields['device_id'];
const flagKey = fields['flag_key'];
const context = fields['context'];
localStorage.setItem('deployment_key', deploymentKey);
const serverZone = document.getElementById('server-zone').value;
let uri = serverZone === 'US' ? 'https://api.lab.amplitude.com/v1/vardata?' :
'https://api.lab.eu.amplitude.com/v1/vardata?';
if (userId && userId.length > 0) {
uri += '&user_id=' + userId;
}
if (deviceId && deviceId.length > 0) {
uri += '&device_id=' + deviceId;
}
if (flagKey && flagKey.length > 0) {
uri += '&flag_key=' + flagKey;
}
if (context && context.length > 0) {
uri += '&context=' + context;
}
const response = await fetch(uri, {
headers: {
'Authorization': 'Api-Key ' + deploymentKey,
},
});
if (response.status != 200) {
const body = await response.text();
throw Error(response.status + ': ' + body);
}
const result = await response.json();
return JSON.stringify(result, null, 2);
});
</script>